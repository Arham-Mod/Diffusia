# Quantization-Aware Training for Diffusion Models ## Project Overview This repository contains the environment setup and initial experiments for applying **Quantization-Aware Training (QAT)** to diffusion models, aiming for efficient deployment on resource-constrained devices. The focus is on Stable Diffusion v1.5 with GPU acceleration and low-bit quantization support. --- ## Environment Setup We use **Miniconda** to create an isolated environment for Python 3.10 to ensure reproducibility. ### 1. Miniconda Installation - Installed Miniconda for Windows. - Conda version: 25.7.0 (update recommended: 25.9.1). ### 2. Conda Environment Creation
powershell
# Accept terms of service conda tos accept --override-channels --channel https://repo.anaconda.com/pkgs/main conda tos accept --override-channels --channel https://repo.anaconda.com/pkgs/r conda tos accept --override-channels --channel https://repo.anaconda.com/pkgs/msys2 # Create environment conda create -n diffusion python=3.10 -y conda activate diffusion ## 🧩 3. Installed Library Versions Below is the complete list of libraries installed in the diffusion environment, along with their versions and installation sources. | **Library** | **Version** | **Installation Source / Description** | |--------------|-------------|----------------------------------------| | **torch** | 2.5.1 (CUDA 12.1 build) | conda install pytorch torchvision torchaudio pytorch-cuda=12.1 -c pytorch -c nvidia -y | | **torchvision** | 0.20.1 | Installed via PyTorch | | **torchaudio** | 2.5.1 | Installed via PyTorch | | **numpy** | 1.26.4 | Downgraded for compatibility | | **diffusers** | 0.30.3 | Stable Diffusion base | | **transformers** | 4.46.0 | For text encoder support | | **accelerate** | 0.34.2 | For efficient hardware utilization | | **safetensors** | 0.4.4 | Safe and fast tensor loading | | **bitsandbytes** | 0.43.3 | 8-bit inference optimization | | **optimum** | 1.21.4 | Model optimization toolkit | | **huggingface_hub** | 0.25.2 | Access to pretrained models | | **Pillow** | 10.3.0 | Image saving and manipulation | | **matplotlib** | 3.9.2 | For visualizations | | **scikit-learn** | 1.5.1 | General ML utilities | | **tqdm** | 4.66.5 | Progress bar utility | | **torchinfo** | 1.8.0 | Model architecture summary | | **xformers** *(optional)* | 0.0.26.post1 | Memory-efficient attention (optional) | --- > ⚠️ **Note:** > The versions listed above are verified to be compatible with Python 3.10 and CUDA 12.1 on Windows 11. > It is strongly recommended **not to upgrade NumPy to 2.x** and **keep PyTorch CUDA build consistent with your driver version**.